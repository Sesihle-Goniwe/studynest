<div class="dashboard-container">
  <aside class="sidebar">
    <div class="logo">
      <h1>Study Nest</h1>
    </div>
    
    <nav class="nav-menu">
      <button class="nav-item" (click)="goToStudyGroups()">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
        Study Groups
      </button>
      
      <button class="nav-item" (click)="goToStudyPartner()">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M16 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M8 21v-2a4 4 0 0 1 3-3.87"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <circle cx="17" cy="7" r="4"></circle>
        </svg>
        Find Partner
      </button>

      <button class="nav-item" (click)="goToProgress()">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
          <path d="M2 17l10 5 10-5"></path>
          <path d="M2 12l10 5 10-5"></path>
        </svg>
        Progress
      </button>
      
      <button class="nav-item" (click)="goToProfile()">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
        Profile
      </button>
    </nav>

    <div class="sidebar-footer">
      <button class="nav-item signout" (click)="handleSignOut()">
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
        Sign Out
      </button>
    </div>
  </aside>
  
<main class="main-content">
  <header class="content-header">
    <div class="welcome-section">
      <h2>Welcome back, {{ displayName }}</h2>
      <p class="subtitle">Ready to continue learning?</p>
    </div>

    <div class="header-actions">
      <div class="notification-container">
        <button class="notification-button" (click)="toggleNotifications()">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 17H2a3 3 0 0 0 3-3V9a7 7 0 0 1 14 0v5a3 3 0 0 0 3 3zm-8.27 4a2 2 0 0 1-3.46 0"></path>
          </svg>
          <span class="notification-badge" *ngIf="unreadCount > 0">{{ unreadCount }}</span>
        </button>

        <div class="notification-dropdown" [class.active]="showNotifications">
          <div class="notification-header">
            <h3>Notifications</h3>
          </div>
          <div class="notification-list">
            <div *ngIf="notifications.length === 0" class="empty-state">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"></path>
              </svg>
              <p>No notifications yet</p>
            </div>
            <div *ngFor="let n of notifications" class="notification-item">
              <p>{{ n.message }}</p>
              <small [ngClass]="{ 'unread': !n.read, 'read': n.read }">
                {{ n.read ? 'Read' : 'Unread' }}
              </small>
            </div>
          </div>
          <div class="notification-footer" *ngIf="notifications.length > 0">
            <a (click)="viewAllNotifications()">View all notifications</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- 🌟 Hall of Fame Hero Section -->
  <section class="dashboard-hero">
    <div class="hero-title">
      <h1>🌟 Hall of Fame 🌟</h1>
      <p>Your journey, achievements, and milestones</p>
    </div>

    <div class="fame-grid">
      <div class="fame-card card-1">
        🏆 <h3>Top Learner</h3>
        <p>Completed 20+ sessions</p>
      </div>
      <div class="fame-card card-2">
        ⭐ <h3>Consistency Star</h3>
        <p>Studied 7 days in a row</p>
      </div>
      <div class="fame-card card-3">
        📚 <h3>Knowledge Builder</h3>
        <p>Joined 5 study groups</p>
      </div>
      <div class="fame-card card-4">
        🤝 <h3>Study Buddy</h3>
        <p>Matched with 3 partners</p>
      </div>
    </div>
  </section>
  <section class="events-board">
    <div class="board-header">
      <h2>📅 Upcoming Events</h2>
      <p>Stay updated with the latest study-related meetups and workshops.</p>
    </div>
    
    @if (isLoadingEvents) {
      <p class="loading-text">Fetching latest events...</p>
    }
    
    @if (eventsError) {
      <p class="error-text">{{ eventsError }}</p>
    }

    @if (!isLoadingEvents && upcomingEvents.length > 0) {
      <div class="events-grid">
        @for (event of upcomingEvents; track event.id) {
          <article class="event-card">
            <h3>{{ event.title }}</h3>
            <div class="event-details">
              <span class="event-date">
                {{ event.date | date:'fullDate' }} at {{ event.date | date:'shortTime' }}
              </span>
              <span class="event-location">{{ event.location }}</span>
            </div>
            <p class="event-description">{{ event.description }}</p>
          </article>
        }
      </div>
    }

    @if (!isLoadingEvents && upcomingEvents.length === 0 && !eventsError) {
      <p class="empty-text">No study-related events found at the moment.</p>
    }
  </section>
</main>

</div>


